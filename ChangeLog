2004-03-01  Chris Dunlap  <cdunlap@llnl.gov>

	* src/munge/munge.c, src/munge/unmunge.c:
	  Ignore EPIPE when closing output streams.

2004-02-13  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/str.c, src/libcommon/str.h:
	  Removed strdump().  Added strhex().

2004-02-05  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libmunge/encode.c, src/munge/read.c, src/munged/base64.c,
	  src/munged/base64.h, src/munged/cipher.c, src/munged/cipher.h,
	  src/munged/mac.c, src/munged/mac.h, src/munged/md.c, src/munged/md.h:
	  Pedantic tweaks for AIX compiler.

2004-01-30  Chris Dunlap  <cdunlap@llnl.gov>

	* src/munged/auth.c: Added support for getpeereid().

	* src/libmunge/ctx.c, src/libmunge/msg_client.c, src/munged/dec_v1.c,
	  src/munged/enc_v1.c, src/munged/munged.c:
	  Tweaked includes for FreeBSD 4.8.

	* Makefile.in, aclocal.m4, configure, configure.ac,
	  config/ac_check_peercred.m4, config/config.h.in, src/Makefile.in,
	  src/etc/Makefile.in, src/libcommon/Makefile.in,
	  src/libmissing/Makefile.in, src/libmunge/Makefile.in,
	  src/munge/Makefile.in, src/munged/Makefile.in: Added checks
	  for HAVE_GETPEEREID, HAVE_SO_PEERCRED, and HAVE_STRUCT_STRRECVFD.

	* config/ac_debug.m4:
	  Replaced obsolete AC_HELP_STRING with AS_HELP_STRING.

2004-01-29  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libmunge/msg_client.c, src/munge/munge.c, src/munge/unmunge.c,
	  src/munged/conf.c, src/munged/sock.c:
	  Tweaked for compiler warnings under AIX 5.1.

	* src/libcommon/munge_msg.h, src/munged/conf.h, src/munged/cred.h:
	  Replaced <stdint.h> with <inttypes.h> based on info from the
	  autoconf doc (section 5.6.1: Portability of Headers).

2004-01-28  Chris Dunlap  <cdunlap@llnl.gov>

	* : Re-bootstrap'd with autoconf-2.59, automake-1.8.2, libtool-1.5.2.

2004-01-27  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/str.c, src/libcommon/str.h: Added memburn().

2004-01-15  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/license.c: Updated copyright date range.

	* src/libcommon/munge_defs.h, src/libcommon/munge_msg.c
	  src/libcommon/munge_msg.h, src/libmunge/ctx.c,
	  src/libmunge/ctx.h, src/libmunge/decode.c,
	  src/libmunge/encode.c, src/libmunge/msg_client.c,
	  src/libmunge/munge.h, src/munge/unmunge.c, src/munged/cred.c,
	  src/munged/cred.h, src/munged/dec_v1.c, src/munged/enc_v1.c,
	  src/munged/msg_server.c, src/munged/msg_server.h:
	  Changed protocol between client (libmunge) and server (munged)
          to allow credential data & metadata to be returned on error.

	* src/munge/unmunge.c(display_meta):
	  Added check for errors on the file stream "fp_meta".

2003-12-12  Chris Dunlap  <cdunlap@llnl.gov>

	* src/munged/msg_server.c(munge_msg_server_thread):
	  Fixed _munge_msg_recv() error from getting logged twice.

	* src/libcommon/munge_msg.c(_munge_msg_send, _munge_msg_recv):
	  Fixed error conditions that were not errno conditions.

2003-12-11  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/munge_msg.c(_munge_msg_send):
	  Changed to use gather-writes.

	* src/libcommon/munge_defs.h:
	  Increased MUNGE_SOCKET_BACKLOG from 128 to 256.

2003-11-26  Chris Dunlap  <cdunlap@llnl.gov>

	* : Re-bootstrap'd with autoconf-2.57, automake-1.7.9, libtool-1.5.0a.

	* src/libcommon/munge_defs.h, src/munged/Makefile.am,
	  src/munged/conf.c, src/munged/cred.h, src/munged/dec_v1.c,
	  src/munged/hash.c, src/munged/hash.h, src/munged/munged.c,
	  src/munged/replay.c, src/munged/replay.h, src/munged/thread.c,
	  src/munged/thread.h, src/munged/timer.c, src/munged/timer.h:
	  Added support for replay detection/prevention.

2003-10-28  Chris Dunlap  <cdunlap@llnl.gov>

	* : Re-bootstrap'd with autoconf-2.57, automake-1.7.8, libtool-1.5.0a.

	* src/etc/Makefile.am: Added support for /etc/init.d/ (Debian).

2003-10-24  Chris Dunlap  <cdunlap@llnl.gov>

	* : Released 0.2.

2003-10-14  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/munge_defs.h, src/munged/random.c:
	  Changed RANDOM_SEED_DEFAULT from "/dev/random" to "/dev/urandom".

	* src/munged/dec_v1.c(dec_v1_unpack_inner):
	  Fixed unaligned access on ia64 {gnats:303}.

	* src/munged/dec_v1.c, src/munged/enc_v1.c:
	  Fixed ia64 compiler warning that time_t "comparison is always false
	  due to limited range of data type".

2003-09-18  Chris Dunlap  <cdunlap@llnl.gov>

	* doc/credential_v1_format.txt, src/libcommon/munge_defs.h,
	  src/libmunge/ctx.c, src/libmunge/decode.c, src/libmunge/encode.c,
	  src/libmunge/munge.h, src/munge/munge.c, src/munge/unmunge.c,
	  src/munged/conf.c, src/munged/conf.h, src/munged/dec_v1.c,
	  src/munged/enc_v1.c: Added TTL back into credential (for replay).

	* src/libcommon/fd.c: Tweaked formatting.

2003-07-18  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/munge_msg.c: Augmented err msgs once again.

2003-07-02  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/munge_defs.h:
	  Increased MUNGE_SOCKET_BACKLOG from 64 to 128.

2003-06-27  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/munge_msg.c:
	  Augmented err msgs with strerror() to track down failed fd_write_n().

2003-06-12  Chris Dunlap  <cdunlap@llnl.gov>

	* src/munged/conf.c(create_conf):
	  Changed default value for got_clock_skew flag to true.

2003-06-03  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/munge_msg.c(_munge_msg_recv):
	  Fixed bug with unexpected message length assert.

2003-05-30  Chris Dunlap  <cdunlap@llnl.gov>

	* doc/credential-v1-format: Added.

2003-05-29  Chris Dunlap  <cdunlap@llnl.gov>

	* libcommon/munge_defs.h: Increased credential's salt from 56b to 64b.

	* src/libcommon/munge_msg.h, src/libmunge/ctx.c, src/libmunge/ctx.h,
	  src/libmunge/decode.c, src/libmunge/encode.c, src/libmunge/munge.h,
	  src/munge/unmunge.c, src/munged/conf.c, src/munged/conf.h,
	  src/munged/dec_v1.c, src/munged/enc_v1.c, src/munged/munged.c:
	  Added IP address where cred was encoded into the credential.
	  This breaks backwards-compatibility with existing credentials.
	  Added MUNGE_OPT_ADDR4 enum (and tweaked the enum values).

2003-05-22  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libmunge/munge.h: Update docs for munge_decode() to reflect
	  that an additional NUL is appended to the returned buffer.

	* src/munge/munge.c, src/munge/unmunge.c:
	  Changed manner in which strtol() is checked for error.

	* src/libmunge/msg_client.c(_munge_msg_client_connect):
	  Changed client's connect() retry backoff from exponential to linear.

	* src/munged/munged.c(segv_handler): Added.

2003-05-16  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/munge_defs.h:
	  Increased MUNGE_SOCKET_BACKLOG from 10 to 64.

	* src/libcommon/log.c, src/libcommon/log.h:
	  Added log_errno().  All callers changed.

2003-05-07  Chris Dunlap  <cdunlap@llnl.gov>

	* src/munged/dec_v1.c(dec_v1_validate_time):
	  Added a minimum negative clock skew of 1 second, since we were
	  encountering EMUNGE_CRED_REWOUND in spite of NTP's best efforts.

2003-05-06  Chris Dunlap  <cdunlap@llnl.gov>

	* : Added support for the "--enable-debug" configure script option.

	* src/etc/munge.init, src/libcommon/munge_defs.h, src/munged/conf.c,
	  src/munged/munged.c: Added munged F cmdline opt and daemon support.

	* src/munged/random.c(random_init): Added "seeding in progress" msg.

2003-05-03  Chris Dunlap  <cdunlap@llnl.gov>

	* HISTORY: Added.

	* src/munged/msg_server.c(err_v1_process_msg):
	  Fixed sending err msg with no body, but need to revisit this routine.

2003-05-02  Chris Dunlap  <cdunlap@llnl.gov>

	* : Removed dprintf() due to an interpositioning bug with a
	  GNU extension function named dprintf() -- who knew?!?

	* : Read PACKAGE/VERSION info from META file.

	* src/munge/munge.c, src/munge/unmunge.c, src/munged/conf.c:
	  Added V cmdline opt.

	* src/munge/unmunge.c(main): Fixed invalid read of free'd memory.

	* src/libmunge/decode.c(decode_rsp_v1):
	  Fixed dataless cred decode to match header (ie, no data is malloc'd).
	  Fixed overwrite of returned data buffer.

2003-04-30  Chris Dunlap  <cdunlap@llnl.gov>

	* : Released 0.1.

	* munge.spec: Tweaked description, pre/post/preun/postun, files.

	* : Added 'distclean-local' hook via Make-inc.mk.

	* : Added startup script.

2003-04-29  Chris Dunlap  <cdunlap@llnl.gov>

	* : Fixed compiler warnings under RH62 w/o -Wall.

2003-04-25  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libmunge/munge.h, src/libmunge/strings.c, src/munged/enc_v1.c,
	  src/munged/lookup.c: Removed "half-mac" work-in-progress.

	* src/munge/munge.c, src/munge/unmunge.c: Tweaked "list" output.

	* src/munge/munge.c: Added c/C/m/M/z/Z cmdline opts.

	* src/munge/unmunge.c: Added t cmdline opt for setting TTL.
	  Added ENCODED, DECODED, CIPHER, MAC, ZIP metadata keys.

	* src/libmunge/munge.h, src/libmunge/ctx.c: Tweaked MUNGE_OPT_* enums.

	* src/libmunge/Makefile.am, src/libmunge/Makefile.in,
	  src/libmunge/strings.c: Added descriptive string arrays for enums.

2003-04-24  Chris Dunlap  <cdunlap@llnl.gov>

	* src/munge/unmunge.c: Changed t/T cmdline opts to k/K.

2003-04-23  Chris Dunlap  <cdunlap@llnl.gov>

	* src/munged/dec_v1.c: Ensured MUNGE_TTL_FOREVER never expires.

	* libcommon/munge_defs.h: Reduced credential's salt from 64b to 56b.

	* src/libmunge/decode.c, src/libmunge/encode.c, src/munged/dec_v1.c,
	  src/munged/enc_v1.c: Removed credential's TTL field.

	* : Cleanup of error propagation code.

2003-04-22  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/munge_msg.h, src/munged/dec_v1.c, src/munged/enc_v1.c:
	  Changed cred's realm_len from uint32_t to uint8_t.

2003-04-18  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libcommon/munge_defs.h, src/munged/conf.c:
	  Temporarily added MUNGED_RANDOM_SEED and MUNGED_SECRET_KEY defs.

	* src/libmunge/ctx.c, src/libmunge/munge.h, src/munge/munge.c:
	  Renamed munge_ctx_err() to munge_ctx_strerror().

	* : Committed munge_decode() support.

	* src/munged/md.c: Changed md_size() to return 0 on NULL ptr.
	* src/munged/mac.c: Changed mac_size() to return 0 on NULL ptr.
	* src/munged/cipher.c: Changed cipher_block_size(), cipher_iv_size(),
	  and cipher_key_size() to return 0 on NULL ptr.

	* src/munged/cipher.h: Added CIPHER_DECRYPT & CIPHER_ENCRYPT enums.

	* src/libcommon/str.c, src/libcommon/str.h: Added strdump().

	* src/libcommon/munge_defs.h:
	  Changed MUNGE_CRED_PREFIX & MUNGE_CRED_SUFFIX.

2003-04-08  Chris Dunlap  <cdunlap@llnl.gov>

	* : Committed munge_encode() support.

2003-02-18  Chris Dunlap  <cdunlap@llnl.gov>

	* : Changed #ifdef/#ifndef to #if where appropriate.

2003-02-16  Chris Dunlap  <cdunlap@llnl.gov>

	* : Added GPL_LICENSED preprocessor macro support.

2003-02-13  Chris Dunlap  <cdunlap@llnl.gov>

	* : Added munge/unmunge cmdline progs.

2003-02-03  Chris Dunlap  <cdunlap@llnl.gov>

	* src/libmunge/munge.c, src/libmunge/munge.h:
	  Tweaked API for munge_encode() and munge_decode().

2002-12-20  Chris Dunlap  <cdunlap@llnl.gov>

	* : Released 0.0.

